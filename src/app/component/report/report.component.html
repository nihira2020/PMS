<mat-card>
    <mat-card-header>
        <h1>{{title}}</h1>
    </mat-card-header>
    <mat-card-content>

        <mat-form-field>
            <mat-label>Company</mat-label>
            <mat-select (selectionChange)="companyChange($event.value)">
                <mat-option value="0">Select Company</mat-option>
                @for(item of companyList;track item){
                <mat-option [value]="item.companyId">{{item.companyName}}</mat-option>
                }
            </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Property</mat-label>
            <mat-select (selectionChange)="propertyChange($event.value)">
                <mat-option value="0">Select Property</mat-option>
                @for(item of propertyList;track item){
                <mat-option [value]="item.propertyId">{{item.name}}</mat-option>
                }
            </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Tenant</mat-label>
            <mat-select (selectionChange)="tenantChange($event.value)">
                <mat-option value="0">Select Tenant</mat-option>
                @for(item of tenantList;track item){
                <mat-option [value]="item.tenantId">{{item.firstName}} {{item.lastName}}</mat-option>
                }
            </mat-select>
        </mat-form-field>


    </mat-card-content>

</mat-card>

<mat-card>
    <mat-card-header>
        <mat-card-title>Final Summary</mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <div>Income : {{reportSummary.totalIncome | currency}}</div>
        <div>Expensesm : {{reportSummary.totalExpenses | currency}}</div>
        <div>Balance : {{reportSummary.balance | currency}}</div>
    </mat-card-content>
</mat-card>

<mat-card>
    <mat-card-header>
        <mat-card-title>Transaction History</mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <table mat-table [dataSource]="dataSource" style="margin-top: 5px;" class="mat-elevation-z8">

            <ng-container matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef> Date </th>
                <td mat-cell *matCellDef="let element"> {{element.paymentDate | date:'dd/MM/yyyy'}}</td>
            </ng-container>

            <ng-container matColumnDef="rent">
                <th mat-header-cell *matHeaderCellDef> Rent </th>
                <td mat-cell *matCellDef="let element"> {{element.amount | currency}} </td>
            </ng-container>

            <ng-container matColumnDef="charge">
                <th mat-header-cell *matHeaderCellDef> Maintenance Charges </th>
                <td mat-cell *matCellDef="let element"> {{element.complaintCharges | currency}} </td>
            </ng-container>

            <tr class="ng-head" mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </mat-card-content>
</mat-card>